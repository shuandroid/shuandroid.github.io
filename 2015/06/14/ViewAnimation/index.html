<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ViewAnimation | chenchen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="android 动画 View Animation">
<meta property="og:type" content="article">
<meta property="og:title" content="ViewAnimation">
<meta property="og:url" content="http://yoursite.com/2015/06/14/ViewAnimation/index.html">
<meta property="og:site_name" content="chenchen">
<meta property="og:description" content="android 动画 View Animation">
<meta property="og:updated_time" content="2015-06-14T12:51:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ViewAnimation">
<meta name="twitter:description" content="android 动画 View Animation">
  
    <link rel="alternative" href="/atom.xml" title="chenchen" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="http://news.mydrivers.com/Img/20100622/10062490.jpg" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">chenchen</a></h1>
		</hgroup>

		
		<p class="header-subtitle">be all you can be.</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/shuandroid" title="github">github</a>
					        
								<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Library/" style="font-size: 10px;">Library</a> <a href="/tags/Network/" style="font-size: 16.67px;">Network</a> <a href="/tags/RecyclerView/" style="font-size: 10px;">RecyclerView</a> <a href="/tags/Suooprt/" style="font-size: 10px;">Suooprt</a> <a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/android，-Network，-volley，-first/" style="font-size: 10px;">android， Network， volley， first</a> <a href="/tags/anim/" style="font-size: 10px;">anim</a> <a href="/tags/animation/" style="font-size: 13.33px;">animation</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/design/" style="font-size: 10px;">design</a> <a href="/tags/fourth/" style="font-size: 10px;">fourth</a> <a href="/tags/frame/" style="font-size: 10px;">frame</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/material-design/" style="font-size: 10px;">material design</a> <a href="/tags/netWork/" style="font-size: 10px;">netWork</a> <a href="/tags/second/" style="font-size: 10px;">second</a> <a href="/tags/square/" style="font-size: 10px;">square</a> <a href="/tags/third/" style="font-size: 10px;">third</a> <a href="/tags/view/" style="font-size: 16.67px;">view</a> <a href="/tags/volley/" style="font-size: 16.67px;">volley</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/ybook/" style="font-size: 10px;">ybook</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">做好眼前的事</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">chenchen</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://news.mydrivers.com/Img/20100622/10062490.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">chenchen</h1>
			</hgroup>
			
			<p class="header-subtitle">be all you can be.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/shuandroid" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-ViewAnimation" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/14/ViewAnimation/" class="article-date">
  	<time datetime="2015-06-14T12:27:42.000Z" itemprop="datePublished">2015-06-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ViewAnimation
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/animation/">animation</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/view/">view</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="android_动画_View_Animation">android 动画 View Animation</h3><a id="more"></a>  
<p>记录关于动画的一些常用方法<br>视图动画又称为补间动画，给出两个关键帧，通过一些算法讲给定属性<br>值在给定的时间内在两个关键帧间渐变。  </p>
<h4 id="view_Animation">view Animation</h4><p>view animation(视图动画) 只能用作view对象，是对<br>view的变换，默认支持的类型有：  </p>
<ul>
<li>透明度的变化（alpha Animation）.</li>
<li>缩放(Scale Animation)</li>
<li>位移(Translate Animation)</li>
<li>旋转(Rotate Animation)</li>
</ul>
<p>当然我们可以再一个view上使用多种动画，夹杂一些混合的两种或是三种以上，<br>此时使用AnimationSet让多个动画一块，使用插值器(interpolator)设置动画的速度.<br>更好的是写一些经常使用的动画作为xml，可以在用的时候直接拿过来，然后调用。  </p>
<h5 id="Alpha_Animation_透明度动画">Alpha Animation 透明度动画</h5><p>实质是改变视图的透明度，可以实现淡入淡出的效果。<br>只需要设置开始和结束的透明度。   </p>
<pre><code><span class="comment">//透明度从0.1到1.0</span>
Animation animation = <span class="keyword">new</span> AlphaAnimation(<span class="number">0.1f</span>, <span class="number">1.0f</span>);
</code></pre><p>或在xml里面   </p>
<pre><code>&lt;alpha <span class="string">android:</span>fromAlpha = <span class="string">"0.1f"</span> <span class="string">android:</span>toAlpha=<span class="string">"1.0f"</span>&gt;
</code></pre><h5 id="ScaleAnimation_缩放动画">ScaleAnimation 缩放动画</h5><p>缩放动画，支持设置开始x缩放和y缩放，结束x和y缩放，以及缩放基点x坐标，<br>缩放基点y坐标。<br>x缩放和y缩放都是相对于原始的宽度和高度，1.0表示不缩放。  </p>
<p>坐标基点，同时有参数可以设置坐标的基点类型，分别是：  </p>
<ul>
<li>Animation.ABSOLUTE(默认值)相对于控件的0点的坐标值</li>
<li>Animation.RELATIVE_TO_SELF 相对于自己宽或是高的百分比(1.0表示100%)</li>
<li>Animation.RELATIVE_TO_PARENT 相对于父控件的宽或者高的百分比.</li>
</ul>
<p>默认基点是视图的0点，默认坐标基点类型是ABSOLUTE.  </p>
<p>而scale Animation 有很多构造函数：  </p>
<pre><code>ScaleAnimation (Context context, AttributeSet attrs)  
ScaleAnimation (<span class="keyword">float</span> fromX, <span class="keyword">float</span> toX, <span class="keyword">float</span> fromY, <span class="keyword">float</span> toY)  
<span class="keyword">new</span> ScaleAnimation (<span class="number">1.0f</span>, <span class="number">1.5f</span>, <span class="number">1.0f</span>, <span class="number">1.5f</span>);  
ScaleAnimation (<span class="keyword">float</span> fromX, <span class="keyword">float</span> toX, <span class="keyword">float</span> fromY, <span class="keyword">float</span> toY, <span class="keyword">float</span> pivotX, <span class="keyword">float</span> pivotY)  
<span class="keyword">new</span> ScaleAnimation (<span class="number">1.0f</span>, <span class="number">1.5f</span>, <span class="number">1.0f</span>, <span class="number">1.5f</span>, <span class="number">10</span>, <span class="number">10</span>);  
ScaleAnimation (<span class="keyword">float</span> fromX, <span class="keyword">float</span> toX, <span class="keyword">float</span> fromY, <span class="keyword">float</span> toY, <span class="keyword">int</span> pivotXType, <span class="keyword">float</span> pivotXValue, <span class="keyword">int</span> pivotYType, <span class="keyword">float</span> pivotYType)  
<span class="comment">//相对于自己，以中心点为基点</span>
<span class="keyword">new</span> ScaleAnimation (<span class="number">1.0f</span>, <span class="number">1.5f</span>, <span class="number">1.0f</span>, <span class="number">1.5f</span>, Animation.RELATIVE_TO_SELF, <span class="number">0.5f</span>, Animation.RELATIVE_TO_SELF, <span class="number">0.5f</span>) ;  
</code></pre><p>XML配置：  </p>
<pre><code>&lt;scale
    android:<span class="variable">fromXScale=</span><span class="string">"float"</span>  
    android:<span class="variable">toXScale=</span><span class="string">"float"</span>  
    android:<span class="variable">fromYScale=</span><span class="string">"float"</span>  
    android:<span class="variable">toYScale=</span><span class="string">"float"</span>  
    android:<span class="variable">pivotX=</span><span class="string">"float"</span>  
    android:<span class="variable">pivotX=</span><span class="string">"float"</span>  
    /&gt;  
</code></pre><h5 id="TranslateAnimation_位移">TranslateAnimation 位移</h5><p>平移动画：平移支持x轴平移起点和y轴平移起点，以及设置结束点。同时每个点都是可以设置为type，<br>type和上面的缩放动画的基点类型一样，默认类型是ABSOULTE.<br>构造函数如下：  </p>
<pre><code>TranslateAnimation (Context context, AttributeSet attrs)  
TranslateAnimation(<span class="keyword">float</span> fromXDelta, <span class="keyword">float</span> toXDelta, <span class="keyword">float</span> fromYDelta, <span class="keyword">float</span> toYDelta)  
TranslateAnimation(<span class="keyword">int</span> fromXType, <span class="keyword">float</span> fromXValue, <span class="keyword">int</span> toXType, <span class="keyword">float</span> toXValue,   
    <span class="keyword">int</span> fromYType, <span class="keyword">float</span> fromYValue, <span class="keyword">int</span> toYType, <span class="keyword">float</span> toYValue);  
</code></pre><p>它的xml 配置：  </p>
<pre><code>&lt;translate
        android:<span class="variable">fromXDelta=</span><span class="string">"float"</span>  
        android:<span class="variable">toXDelta=</span><span class="string">"float"</span>  
        android:<span class="variable">fromXDelta=</span><span class="string">"float"</span>  
        android:<span class="variable">toXDelta=</span><span class="string">"float"</span>  
/&gt;  
</code></pre><h5 id="RotationAnimation_旋转">RotationAnimation 旋转</h5><p>选择动画：旋转支持设置旋转开始角度，和旋转结束角度，以及旋转基点，和旋转基点类型。<br>类型和上面一样，默认选择基点是(0, 0),默认类型和上面一样。  </p>
<p>看一下它的构造函数：  </p>
<pre><code>RotateAnimation (Context context, AttrbuteSet attrs);  
<span class="function">RotateAnimation</span>(<span class="attribute">float</span> fromDegrees, <span class="attribute">float</span> toDegrees);  
<span class="function">RotateAnimation</span>(<span class="attribute">float</span> fromDegrees, <span class="attribute">float</span> toDegrees, <span class="attribute">float</span> pivotX, <span class="attribute">float</span> pivotY);  
<span class="function">otateAnimation</span>(<span class="attribute">float</span> fromDegrees, <span class="attribute">float</span> toDegrees, int pivotXType, <span class="attribute">float</span> pivotXValue, int pivotYType, <span class="attribute">float</span> pivotYValue);  
</code></pre><p>它的xml配置是：  </p>
<pre><code>&lt;rotate 
        android:<span class="variable">fromDegrees=</span><span class="string">"float"</span>  
        android:<span class="variable">toDegrees=</span><span class="string">"float"</span>  
        android:<span class="variable">pivotX=</span><span class="string">"float"</span>  
        android:<span class="variable">pivotY=</span><span class="string">"float"</span>
        /&gt;
</code></pre><h5 id="AnimationSet_多重动画">AnimationSet 多重动画</h5><p>实现多个动画一起运行，或是依次执行，达到更好的效果 。<br>通过 addAnimation(Animation animation) 向集合中添加动画，使用子动画的 setStartOffset(long offset)<br>设置延时，从而实现子动画之间的间隔，可以设置是否共享时间插值器。  </p>
<p>xml配置 ：  </p>
<pre><code><span class="tag">&lt;<span class="title">set</span>&gt;</span>  
<span class="comment">&lt;!--这里加入需要的子动画--&gt;</span>  
<span class="tag">&lt;<span class="title">rotate</span> <span class="attribute">....</span>/&gt;</span>  
<span class="tag">&lt;<span class="title">alpha</span> <span class="attribute">....</span>/&gt;</span>  
<span class="tag">&lt;/<span class="title">set</span>&gt;</span>  
</code></pre><h5 id="animation">animation</h5><p>前面的几个动画都是继承Animation ,像时常，插值器，是否重复，监听等。<br>setFillBefore(boolean)和setFillAfter(boolean)分别是动画开始前和动画结束后是否保持动画状态，<br>默认前者为true，后者为false，即不保存动画后的状态，可按照需要自行修改。<br>xml中可以配置的属性（这些在前面的动画中省略了，也可以使用）：  </p>
<pre><code><span class="keyword">android:detachWallpaper </span> 
<span class="keyword">android:duration </span> 
<span class="keyword">android:fillAfter </span> 
<span class="keyword">android:fillBefore </span> 
<span class="keyword">android:interpolator </span> 
<span class="keyword">android:repeatCount </span> 
<span class="keyword">android:repeatMode </span>    INFINTE(无限期)，RESTART（重新开始，默认值）  
<span class="keyword">android:startOffset </span> 
<span class="keyword">android:zAdjustment </span>  ZORDER_BOTTOM,ZORDER_NORMAL, ZORDER_TOP  
</code></pre><p>启动动画：  </p>
<pre><code>view.startAnimation<span class="params">()</span>;  
<span class="comment">//or  </span>
view.setAnimation<span class="params">(animatioin)</span>;  
animation.start<span class="params">()</span>;  
</code></pre><h5 id="Interpolator_插值器">Interpolator 插值器</h5><p>通过设置插值器可以改变动画的速度，以及最终的效果。<br>android sdk 提供了几种默认的插值器，而且这些插值器在新的 protery animation 上依然可以使用，  </p>
<ul>
<li>AccelerateDecelerateInterpolator 先加速后减速  </li>
<li>AccelerateInterpolator 加速  </li>
<li>AnticipateInterPolator  </li>
<li>AnticipateOvershootInterpolator  </li>
<li>BounceInterpolator</li>
<li>CycleInterpolator  </li>
<li>LinearInterpolator  </li>
<li>OvershootInterpolator  </li>
<li>PathInterpolator  </li>
</ul>
<p>同样，可自行自定义Interpolator,一般开始值为0，结束值为1.0，然后根据算法来改变值。  </p>
<h5 id="动画原理">动画原理</h5><p>动画就是根据间隔时间，不停的去刷新界面，把时间分片，在那个时间片，通过传入插值器<br>到Animation.applyTransformation(), 来计算当前的值（旋转角，透明度）.<br>因此，我们也可以继承Animation,从写applyTransformation()来实现我们的其他的动画。  </p>
<h5 id="注意">注意</h5><p>使用view动画时，如果需要用到类似基点类型和基点设置的，一定要注意设置对点，<br>不然效果很差。<br>另外，view动画，若动画前view在a点，动画过程以及动画后，view变化了位置，<br>但点击点仍然在原位置，特别注意！！！</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/07/12/RecyclerViewItem/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          RecyclerViewItem
        
      </div>
    </a>
  
  
    <a href="/2015/06/14/FrameAnimation/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">FrameAnimation</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="ViewAnimation" data-title="ViewAnimation" data-url="http://yoursite.com/2015/06/14/ViewAnimation/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>



</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 chenchen
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/mobile.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>